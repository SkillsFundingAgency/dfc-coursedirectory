@using System.Text.RegularExpressions
@using Dfc.CourseDirectory.Web.ViewComponents.PublishCourses.PublishCourse
@model Dfc.CourseDirectory.Web.ViewModels.PublishCourses.PublishViewModel

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

<div class="govuk-body cd-file-upload">
    @if (Model.AreAllReadyToBePublished)
    {
        <h1 class="govuk-govuk-grid-column-one-half-l">Publish Your Courses</h1>
        <p>
            Your file of @Model.NumberOfCoursesInFiles courses has no errors. Publish them to replace your current courses on the course directory.
        </p>
    }
    else
    {
        <h1 class="govuk-govuk-grid-column-one-half-l">Fix errors and publish</h1>
        <p>
            Your file of @Model.NumberOfCoursesInFiles courses has been uploaded. They will not be listed on the course directory until you publish them. You must fix any errors first.
        </p>
    }

    <div class="err-top-line"></div>

    @await Component.InvokeAsync(nameof(PublishCourse), new { model = Model })


</div>

<script>
    (function ($) {
        $(function () {

        });
    })(jQuery);
</script>