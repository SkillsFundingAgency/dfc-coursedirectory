@using Dfc.CourseDirectory.Common.Settings
@using Microsoft.Extensions.Options
@model Dfc.CourseDirectory.Web.ViewComponents.Courses.EntryRequirements.EntryRequirementsModel

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@inject IOptions<EntryRequirementsComponentSettings> entryRequirementsComponentSettings

@{
    var regex = @"[a-zA-Z0-9 /\r\n?|\n\¬\!\£\$\%\^\&\*\(\)_\+\-\=\{\}\[\]\;\:\@\'\#\~\,\<\>\.\?\/\|\`\" + "\"" + @"\\]+";
}
<div class="govuk-character-count" data-module="character-count" data-maxlength=@entryRequirementsComponentSettings.Value.TextFieldMaxChars>
    <div class="govuk-form-group" style="margin-bottom: 0;padding-bottom: 0">
        <label class="govuk-label" for="entry-requirements">
            @Model.LabelText
        </label>
        <span id="entry-requirements-hint" class="govuk-hint">
            @Model.HintText
        </span>
        <textarea asp-for="EntryRequirements" class="govuk-textarea js-character-count" name="EntryRequirements" id="textAreaEntryRequirements" rows="5"  type="text" 
                  aria-describedby="@Model.AriaDescribedBy"
                  val-max-length="500" val-max-length-message="Entry requirements must be 500 characters or less"
                  val-regex="@regex"
                  val-regex-message="Who is this course for contains invalid characters"></textarea>
    </div>
</div>