@model Dfc.CourseDirectory.WebV2.Features.Cookies.Settings.Command
@{
    Layout = "_V2LayoutProviderContext";
    ViewBag.Title = "Cookies on Publish to the course directory";
}

@if (TempData.TryGetValue("SavedCookieSettings", out var saved) && (bool)saved)
{
    <pttcd-notification title="Your cookie settings have been saved." data-testid="saved-notification">
        <p>You can change your settings at any time by visiting this page.</p>
    </pttcd-notification>
}

<govuk-error-summary>
    <govuk-error-summary-item asp-for="AllowAnalyticsCookies" />
</govuk-error-summary>

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <form asp-action="Settings">
            <h1 class="govuk-heading-xl">
                Cookies on Publish to the course directory
            </h1>

            <p>Cookies are files saved on your phone, tablet or computer when you visit a website.</p>
            <p>We use cookies to store information about how you use Publish to the course directory website, such as the pages you visit.</p>

            <h2 class="govuk-heading-l">Cookie settings</h2>
            <p>We use 2 types of cookie. You can choose which cookies you're happy for us to use.</p>

            <govuk-radios asp-for="AllowAnalyticsCookies">
                <govuk-radios-fieldset>
                    <govuk-radios-fieldset-legend class="govuk-fieldset__legend--m">
                        <h2 class="govuk-fieldset__heading">
                            Cookies that measure website use
                        </h2>
                    </govuk-radios-fieldset-legend>
                </govuk-radios-fieldset>
                <govuk-radios-hint>
                    <p class="govuk-hint">We use Google Analytics to measure how you use the website so we can improve it based on user needs. We do not allow Google to use or share the data about how you use this website.</p>
                    <p class="govuk-hint">Google Analytics sets cookies that store anonymised information about:</p>
                    <ul>
                        <li>how you got to the site</li>
                        <li>the pages you visit on Publish to the course directory and government digital services, and how long you spend on each page</li>
                        <li>what you click on while you're visiting the site</li>
                    </ul>
                </govuk-radios-hint>
                <govuk-radios-item value="@true">
                    Use cookies that measure my website use
                </govuk-radios-item>
                <govuk-radios-item value="@false">
                    Do not use cookies that measure my website use
                </govuk-radios-item>
            </govuk-radios>


            <h2 class="govuk-heading-m">
                Strictly necessary cookies
            </h2>

            <p>These essential cookies do things like remember your progress through a form (for example a licence application)</p>

            <p>They always need to be on.</p>

            <p><a asp-action="Details" class="govuk-link">Find out more about cookies on Publish to the course directory</a></p>

            <govuk-button type="submit">Save changes</govuk-button>
        </form>
    </div>
</div>
