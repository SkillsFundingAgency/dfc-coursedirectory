@model Dfc.CourseDirectory.WebV2.Features.ApprenticeshipQA.ProviderSelected.ViewModel
@{
    ViewBag.Title = "QA";
}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <h1 class="govuk-heading-xl">@Model.ProviderName</h1>
        <p class="govuk-!-margin-bottom-9">ESFA-funded apprenticeship providers are required to ensure the quality of their data and appropriateness of the content. The data is quality assured for compliance and style against guidance.</p>

        <h2 class="govuk-heading-m">
            Quality assurance status
        </h2>
        <div class="pttcd-apprenticeship-qa-provider-selected-summary govuk-!-margin-bottom-9">
            <div class="pttcd-apprenticeship-qa-provider-selected-summary-label">
                @Model.ApprenticeshipQAStatus.ToDisplayName()
            </div>
            <div class="pttcd-apprenticeship-qa-provider-selected-summary-status">
                <a class="govuk-link" href="#">Change</a>
            </div>
        </div>

        <h2 class="govuk-heading-m">
            Provider
        </h2>
        <div class="pttcd-apprenticeship-qa-provider-selected-summary pttcd-apprenticeship-qa-provider-selected-provider govuk-!-margin-bottom-9">
            <div class="pttcd-apprenticeship-qa-provider-selected-summary-label">
                <a asp-action="ProviderAssessment" asp-route-providerId="@Model.ProviderId" class="govuk-link">
                    Provider information
                </a>
            </div>
            <div class="pttcd-apprenticeship-qa-provider-selected-summary-status">
                @if (Model.ProviderAssessmentCompleted)
                {
                    <govuk-tag>Completed</govuk-tag>
                }
            </div>
        </div>

        <h2 class="govuk-heading-m">
            Apprenticeship training courses
        </h2>
        @foreach (var app in Model.ApprenticeshipAssessments)
        {
            <div class="pttcd-apprenticeship-qa-provider-selected-summary pttcd-apprenticeship-qa-provider-selected-apprenticeship govuk-!-margin-bottom-9">
                <div class="pttcd-apprenticeship-qa-provider-selected-summary-label">
                    <a asp-action="ApprenticeshipAssessment" asp-route-apprenticeshipId="@app.ApprenticeshipId" class="govuk-link">
                        @app.ApprenticeshipTitle
                    </a>
                </div>
                <div class="pttcd-apprenticeship-qa-provider-selected-summary-status">
                    @if (app.AssessmentCompleted)
                    {
                        <govuk-tag>Completed</govuk-tag>
                    }
                </div>
            </div>
        }

        @if (Model.ApprenticeshipQAStatus == ApprenticeshipQAStatus.Failed || Model.ApprenticeshipQAStatus == ApprenticeshipQAStatus.Passed)
        {
            <govuk-inset-text class="pttcd-inset-text__info">
                Overall the provider information and apprenticeship training course has <strong>@(Model.ApprenticeshipQAStatus == ApprenticeshipQAStatus.Passed ? "PASSED" : "FAILED")</strong> quality assurance.
            </govuk-inset-text>
        }
        else
        {
            <form asp-action="Complete" asp-route-providerId="@Model.ProviderId">
                <govuk-button type="Submit" disabled="@(!Model.CanComplete)">Finish</govuk-button>
            </form>
        }
    </div>
    <div class="govuk-grid-column-one-third">
        PLACEHOLDER
    </div>
</div>