$('*[data-pttcd-module="rich-text-editor"]').each(function(n,t){var i=$(t).find(".govuk-textarea, .govuk-js-character-count")[0];tinymce.init({target:i,plugins:"advlist lists paste",menubar:!1,statusbar:!1,toolbar:"formatselect | bold | numlist bullist | removeformat",paste_as_text:!0,content_css:"/v2/pttcd.css",setup:function(n){var o=function(){var n=document.createEvent("HTMLEvents");n.initEvent("keyup",!1,!0);i.dispatchEvent(n)},s=i.getAttribute("name"),r,u,f,e;i.removeAttribute("name");r=$("<div />").html(i.innerHTML).text();u=$("<input>").attr("type","hidden").attr("name",s).val(r);$(i).before(u);f=function(n){u.val(n);var t=$("<div />").html(n).text();i.innerHTML=t;o()};e=function(){var t=n.getContent();f(t)};n.on("keyup",e);n.on("change",e);n.on("focus",function(){$(t).find(".tox-tinymce").addClass("tox-tinymce--focused")});n.on("blur",function(){$(t).find(".tox-tinymce").removeClass("tox-tinymce--focused")});i.removeAttribute("id");f(r);o()}})});